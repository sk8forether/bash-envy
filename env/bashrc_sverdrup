#!/bin/bash 

## set terminal
export TERM=xterm-256color

## Modules
#module load c7 # not available
module load intel
module load openmpi
module load netcdf-fortran

## Directories
export HOME=/home/tsmith
export SCRATCH=/scratch/tsmith
export contrib=/home/tsmith/gcm-contrib
export computing=/home/tsmith/computing
export MPI_INC_DIR=$MPI_DIR/include
export ph_data=/scratch/heimbach/data
export ase=/scratch/tsmith/MITgcm/ase-adjoint
export pig=/scratch/tsmith/MITgcm/ase-adjoint/pig/generic
export mitgcm=~/MITgcm
export bash_envy=~/bash-envy
export isomip=/scratch/tsmith/MITgcm/isomip-depth

## Commands
export PS1='[\h \W]\$ '
alias scpthorne='scp -P 8704'
alias qu='squeue -u tsmith'
alias cda='cd $ase'
alias cdp='cd $pig'
alias cdi='cd $isomip'

## Increase stack size
ulimit -s hard
ulimit -u hard

### Expand environment variables in tab completion ###
shopt -s direxpand

## group permissions
umask 027

## Commands for interactive node and jupyter notebook
alias interactive='srun -t 720 -N 1 -n 28 --pty bash -i'

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/scratch/shared/anaconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/scratch/shared/anaconda3/etc/profile.d/conda.sh" ]; then
        . "/scratch/shared/anaconda3/etc/profile.d/conda.sh"
    else
        export PATH="/scratch/shared/anaconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<
